  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<div class="container-fluid" id="myContainer">
    <div class="row">
        <div class="col-sm-4 col-md-4 col-md-offset-1">        	
    		<h3><%= @job_to_annotate.title%> @ <%= @job_to_annotate.company_name%></h3>
    		<div id="jobDescription">
	    		<p>
	    			<%=@job_to_annotate.description.html_safe %>
	    		</p>
    		</div>
    		<br/>
    		<a href="/jobs/annotate/<%= @nextJobId %>" class="btn btn-primary">Next</a>
    		&nbsp;
    		<a href="/jobs/annotate/<%= @nextJobId-2 %>" class="btn btn-default">Back</a>
        </div>  
        <div class="col-sm-4 col-md-4 col-md-offset-2">   
        	<form class="form-signin" id="annotationForm">
        		<h2 class="form-signin-heading">Directions</h2>
        		<p>Read the job posting on the right and fill in the following information.<p>
				<p>Required skills:</p>
				<p>
					<input id="skillsInput" type="text" value="<%= @sov_annotation.skills %>" placeholder="Absolutely essential skills required" />
				</p>				
				<p>     	
					Nice to have skills:
				</p>
				<p>
					<input id="niceSkillsInput" type="text" value="<%= @sov_annotation.optional_skills %>" placeholder="Non-essential, but nice skills to have" />
				</p>								
				<p>
					Minimum tenure (in years):
				</p>
				<p>
					<div class="btn-group" data-toggle="buttons">
					  <% for ii in 0..9 %>
					  	<% if ii == @sov_annotation.min_tenure %>
						  <label class="btn btn-primary active">
						    <input type="radio" name="minTenure" id="<%= ii %>" autocomplete="off" checked><%= ii %>
						  </label>
						<% else %>
						  <label class="btn btn-primary">
						    <input type="radio" name="minTenure" id="<%= ii %>" autocomplete="off"><%= ii %>
						  </label>						 
						<% end %>
					  <% end %>
					</div>
				</p>
				<p>
					Maximum tenure (in years):
				</p>
				<p>
					<div class="btn-group" data-toggle="buttons">
					  <% for ii in 0..9 %>
					  	<% if ii == @sov_annotation.max_tenure %>
						  <label class="btn btn-primary active">
						    <input type="radio" name="maxTenure" id="<%= ii %>" autocomplete="off" checked><%= ii %>
						  </label>
						<% else %>
						  <label class="btn btn-primary">
						    <input type="radio" name="maxTenure" id="<%= ii %>" autocomplete="off"><%= ii %>
						  </label>						 
						<% end %>
					  <% end %>
					</div>
				</p>	
				<p>     	
					Required degree type(s):
				</p>
				<p>
					<input id="requiredDegreeInput" type="text" value="<%= @sov_annotation.education_level %>" placeholder="" />
				</p>		
				<p>Required degree major(s):</p>
				<p><input id="requiredMajorInput" type="text" value="<%= @sov_annotation.degree_major %>" placeholder="" /></p>
				<p>Desired personality attributes</p>
				<p><input id="requiredPersonalityInput" type="text" value="" placeholder="" /></p>											
				<p>Functional area</p>
				<p><input id="requiredAreaInput" type="text" value="<%= @sov_annotation.work_area %>" placeholder="" /></p>					
				<p>Full-time or part-time?</p>
				<p><input id="fulltimePartTime" type="text" value="<%= @sov_annotation.work_type %>" placeholder="" /></p>									
																						
			</form>
        </div>
    </div>
</div>

<script type="text/javascript">
    var programmingLanguages = [
      "ActionScript",
      "AppleScript",
      "Asp",
      "BASIC",
      "C",
      "C++",
      "Clojure",
      "COBOL",
      "ColdFusion",
      "Erlang",
      "Fortran",
      "Groovy",
      "Haskell",
      "Java",
      "JavaScript",
      "Lisp",
      "Perl",
      "PHP",
      "Python",
      "Ruby",
      "Scala",
      "Scheme"
    ];
    function split( val ) {
      return val.split( /,\s*/ );
    }
    function extractLast( term ) {
      return split( term ).pop();
    }
    function makeAutoComplete(inputName, availableTags) {
    	$( "#" + inputName)
    	  // don't navigate away from the field on tab when selecting an item
    	  .on( "keydown", function( event ) {
    	    if ( event.keyCode === $.ui.keyCode.TAB &&
    	        $( this ).autocomplete( "instance" ).menu.active ) {
    	      event.preventDefault();
    	    }
    	  })
    	  .autocomplete({
    	    minLength: 0,
    	    source: function( request, response ) {
    	      // delegate back to autocomplete, but extract the last term
    	      response( $.ui.autocomplete.filter(
    	        availableTags, extractLast( request.term ) ) );
    	    },
    	    focus: function() {
    	      // prevent value inserted on focus
    	      return false;
    	    },
    	    select: function( event, ui ) {
    	      var terms = split( this.value );
    	      // remove the current input
    	      terms.pop();
    	      // add the selected item
    	      terms.push( ui.item.value );
    	      // add placeholder to get the comma-and-space at the end
    	      terms.push( "" );
    	      this.value = terms.join( ", " );
    	      return false;
    	    }
    	  });

    }

    makeAutoComplete("skillsInput", programmingLanguages);
    makeAutoComplete("niceSkillsInput", programmingLanguages);
	makeAutoComplete("requiredDegreeInput", programmingLanguages);
	makeAutoComplete("requiredMajorInput", programmingLanguages);
	makeAutoComplete("requiredPersonalityInput", programmingLanguages);
	makeAutoComplete("requiredAreaInput", programmingLanguages);
	
	
</script>